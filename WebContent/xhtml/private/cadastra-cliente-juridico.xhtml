<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="/xhtml/_template.xhtml">
	<ui:define name="title">Cliente Juridico</ui:define>
		<ui:define name="content">
	    
	    <p:panel>
	    <div class="content">
	    <h3>Cliente Juridico</h3>
	    
	    <h:form>
	    	<p:messages autoUpdate="true" />
	    	<h:panelGrid columns="2" style="margin-bottom:2px">
	    	
	    		<p:outputLabel for="razaoSocial" value="Razão Social" />
	    		<p:inputText value="#{clienteJuridicoCadastroBean.cliente.razaoSocial}" id="razaoSocial" maxlengh="40" required="true" />
	    		
	    		<p:outputLabel for="nomeFantasia" value="Nome Fantasia" />
	    		<p:inputText value="#{clienteJuridicoCadastroBean.cliente.nomeFantasia}" id="nomeFantasia" maxlengh="50" required="true" />
	    		
	    		<p:outputLabel for="cnpj" value="CNPJ" />
	    		<p:inputText value="#{clienteJuridicoCadastroBean.cliente.cnpj}" id="cnpj" required="true" >
	    		<f:validateRegex pattern="/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/" />
	    		</p:inputText>
           
			</h:panelGrid>
			
			<h4>Responsável</h4>
			
			<h:panelGrid columns="2" style="margin-bottom:2px">
					<p:outputLabel for ="nome" value="Nome:"/>
					<p:inputText value="#{clienteJuridicoCadastroBean.responsavel.nome}" id="nome" required="true" maxlengh="20">
						<f:validateLength minimum="5"></f:validateLength>
					</p:inputText>
					
					<p:outputLabel for ="sobrenome" value="Sobrenome:"/>
					<p:inputText value="#{clienteJuridicoCadastroBean.responsavel.sobrenome}" id="sobrenome" required="true" />
					
					<p:outputLabel for ="cpf" value="CPF:"/>
					<p:inputText value="#{clienteJuridicoCadastroBean.responsavel.cpf}" id="cpf" required="true">
						<f:validateRegex pattern="/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/" ></f:validateRegex>
					</p:inputText>
					
					<p:outputLabel for ="email" value="Email:"/>
					<p:inputText value="#{clienteJuridicoCadastroBean.responsavel.email}" id="email" required="true" >
						<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>
					</p:inputText>	
			</h:panelGrid>
			
		 	<c:if test="#{clienteJuridicoCadastroBean.cliente.id eq 0}">
		   	<h4>Endereço</h4>
		   
		  	<h:panelGrid columns="2" style="margin-bottom:2px">
				<p:outputLabel for="c_pais" value="Pais" />
		   		<p:inputText value="#{clienteJuridicoCadastroBean.cep.pais}" id="c_pais"  required="true" />
		   		
		   		<p:outputLabel for="c_estado" value="Estado" />
		   		<p:inputText value="#{clienteJuridicoCadastroBean.cep.estado}" id="c_estado" required="true" />
		   		
		   		<p:outputLabel for="c_cidade" value="Cidade" />
		   		<p:inputText value="#{clienteJuridicoCadastroBean.cep.cidade}" id="c_cidade" required="true" />
		   		
		   		<p:outputLabel for="c_bairro" value="bairro" />
		   		<p:inputText value="#{clienteJuridicoCadastroBean.cep.bairro}" id="c_bairro" required="true" />
		   		
		   		<p:outputLabel for="c_numero" value="CEP" />
		   		<p:inputText value="#{clienteJuridicoCadastroBean.cep.numero}" id="c_numero"  required="true" />
		   		
		   		<p:outputLabel for="c_logradouro" value="Logradouro" />
		   		<p:inputText value="#{clienteJuridicoCadastroBean.cep.logradouro}" id="c_logradouro" required="true" />
		   		
		   		<p:outputLabel for="e_numero" value="Numero" />
		   		<p:inputText value="#{clienteJuridicoCadastroBean.endereco.numero}" id="e_numero" style="width:50px" required="true"  />
		   		
		   		<p:outputLabel for="e_complemento" value="Complemento" />
		   		<p:inputText value="#{clienteJuridicoCadastroBean.endereco.complemento}" id="e_complemento" required="false" />	  
		   		
		   </h:panelGrid>
		   

			
			<div style="padding: 30px">
			

				
				<h4>Telefone</h4>
				
				<h:panelGrid columns="2" style="margin-bottom:2px" >
				
						<p:outputLabel for="cdPais" value="Codigo do Pais:" />
			    		<p:inputText value="#{clienteJuridicoCadastroBean.telefone.codigoPais}" style="width:50px" id="cdPais" required="" />
			    		
			    		<p:outputLabel for="nrDDD" value="DDD:" />
			    		<p:inputText value="#{clienteJuridicoCadastroBean.telefone.ddd}" id="nrDDD" style="width:50px" required="true" />
			    		
			    		<p:outputLabel for="nrTelefone" value="Telefone:" />
			    		<p:inputText value="#{clienteJuridicoCadastroBean.telefone.numero}" id="nrTelefone" required="true" />
			    		
			    		<p:outputLabel for="tpTelefone" value="Tipo:" />
		 				<h:selectOneMenu id="tpTelefone" value="#{clienteFisicoCadastroBean.telefone.tipo}">
							<f:selectItems value="#{clienteFisicoCadastroBean.tipoTelefone}" var="s" itemLabel="#{t.s}" itemValue="#{s}" />
						</h:selectOneMenu>
				
			    		<p:outputLabel for="dsRamal" value="Ramal:" />
			    		<p:inputText value="#{clienteJuridicoCadastroBean.telefone.ramal}" id="dsRamal" />
		
			    		<p:outputLabel for="dsOperadora" value="Operadora:" />
			    		<p:inputText value="#{clienteJuridicoCadastroBean.telefone.operadora}" id="dsOperadora" />
			    		
			   </h:panelGrid>
			</div>
			
		</c:if>
		
		<c:if test="#{clienteJuridicoBean.cliente.id eq 0}">
	   		<p:commandButton action="#{clienteJuridicoCadastroBean.cadastrarClienteJuridico}" value="Cadastrar" onclick="cadastrarProf.show()"/>
	    </c:if>
	    <c:otherwise>
	    	<p:commandButton actionListener="#{clienteJuridicoCadastroBean.cadastrarClienteJuridico}" value="Editar" />
	    </c:otherwise>
		
			
	    </h:form>
	    </div>
	    </p:panel>
	    
	     <!-- DIALOG -->
	    <p:confirmDialog message="Deseja estender o seu cadastro e se tornar Profissional Facility?"
			widgetVar="cadastrarProf">
			<p:commandButton value="Sim"
				action="/xhtml/private/client/cadastra-profissional"
				oncomplete="cadastrarProf.hide()" />
			<p:commandButton value="Não" onclick="cadastrarProf.hide()" />

		</p:confirmDialog>
	    
	</ui:define>
</ui:composition>
</html>