<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title><ui:insert name="title">Facility</ui:insert></title>
	<h:outputStylesheet name="estilo.css" library="css" />
</h:head>

<h:body>

	<div id="header">
		<ui:insert name="header">
						
			<p:menubar styleClass="menu">
				<p:menuitem value="FACILITY" url="/xhtml/public/index.xhtml" rendered="#{not sessionScope.usuario.clienteLogado and
																									not sessionScope.usuario.profissionalLogado }"/>
				<p:menuitem value="FACILITY" url="/xhtml/private/client/index-logado.xhtml" rendered="#{sessionScope.usuario.clienteLogado}"/> 
				<p:menuitem value="FACILITY" url="/xhtml/private/professional/index-logado.xhtml" rendered="#{sessionScope.usuario.profissionalLogado}"/> 				
				
				<p:submenu label="Cadastro" rendered="#{sessionScope.usuario == null or sessionScope.usuario.clienteLogado or not sessionScope.usuario.clienteLogado and
																									not sessionScope.usuario.profissionalLogado}">
					<p:menuitem value="Cadastre-se" url="/xhtml/public/cadastra-usuario.xhtml"  rendered="#{sessionScope.usuario == null}" id="btnCadastro"/>
					<p:menuitem value="Cliente Fisico" url="/xhtml/private/cadastra-cliente-fisico.xhtml"  rendered="#{sessionScope.usuario != null and not sessionScope.usuario.profissionalLogado}" />
					<p:menuitem value="Cliente Juridico" url="/xhtml/private/cadastra-cliente-juridico.xhtml" rendered="#{sessionScope.usuario != null and not sessionScope.usuario.profissionalLogado}"/>
					<p:menuitem value="Profissional" url="/xhtml/private/client/cadastra-profissional.xhtml"  rendered="#{sessionScope.usuario.clienteLogado}"/>
					
					<p:menuitem value="Remover Conta" url="/xhtml/private/client/remover-conta.xhtml" rendered="#{sessionScope.usuario != null}"/>
				</p:submenu>
				
				
				<p:menuitem value="Login" url="/xhtml/login/login.xhtml"  rendered="#{sessionScope.usuario == null}" id="btnLogin"/>
				
				<p:menuitem value="Usuário" >
					<h:form id="sessionUser">
						<p:menuButton value="#{sessionScope.usuario.username }" rendered="#{sessionScope.usuario != null}" styleClass="menubutton" >
							<p:menuitem value="Perfil Cliente" rendered="#{sessionScope.usuario.profissionalLogado == true}" 
											action="#{usuarioLoginBean1.mudarPerfilCliente}"/>
							<p:menuitem value="Perfil Profissional" action="#{usuarioLoginBean1.mudarPerfilProfissional}" 
											rendered="#{sessionScope.usuario.clienteLogado == true}"/>
							
							<p:menuitem value="Projetos" url="/xhtml/private/client/listar-projeto.xhtml"  />
							<p:menuitem value="Avatar" url="/xhtml/private/client/avatar.xhtml" />
							<p:separator />
							
							<p:menuitem value="Logout" action="#{usuarioLoginBean1.encerraSessao}" icon="ui-icon-extlink" 
										update="sessionUser" />
						</p:menuButton>
					</h:form>
		
			
				</p:menuitem>
			</p:menubar>


			<h:form>
				<p:menubar model="#{menuBean.menuModel}" />
			</h:form>

		</ui:insert>
	</div>


	<div id="content">
		<ui:insert name="content">
		</ui:insert>
	</div>

	<div id="footer">
		<ui:insert name="footer">
			<div class="footer">
				<p>©2014 - Empresa Facility. Todos os direitos reservados</p>
			</div>
		</ui:insert>
	</div>

</h:body>

</html>
