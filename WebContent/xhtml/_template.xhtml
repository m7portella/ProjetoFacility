<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title><ui:insert name="title">Facility</ui:insert></title>
	<h:outputStylesheet name="estilo.css" library="css" />
</h:head>

<h:body>

	<div id="header">
		<ui:insert name="header">
			<div align="right">
				<p:commandButton rendered="#{sessionScope.usuario == null}"
					value="Login" oncomplete="loginDialog.show()" />
				<br />
				<h:form rendered="#{sessionScope.usuario != null}">
				<p:menuButton value="#{sessionScope.usuario }">
					<p:menuitem value="Perfil" />
					<p:menuitem value="Projetos"   />
					<p:separator />
					<p:menuitem value="Logout" icon="ui-icon-extlink" />
				</p:menuButton>
				</h:form>
			</div>
			
			<p:menubar>
				<p:menuitem value="FACILITY" url="/xhtml/index.xhtml" />
				<p:submenu label="Cadastro">
					<p:menuitem value="Usuário" url="/xhtml/cadastra-usuario.xhtml" />
					<p:separator />
					<p:menuitem value="Cliente" url="/xhtml/cadastra-cliente.xhtml#" />
					<p:separator />
					<p:menuitem value="Profissional" url="cadastra-profissional.xhtml#" />
				</p:submenu>

				<p:submenu label="Projeto">
					<p:menuitem value="Cadastrar" url="/xhtml/cadastra-projeto.xhtml" />
					<p:separator />
					<p:menuitem value="Listar" url="/xhtml/listar-projeto.xhtml" />
				</p:submenu>

				<p:menuitem value="Login" url="/xhtml/login/login.xhtml"  rendered="#{sessionScope.usuario == null}" />

			</p:menubar>

			<p:dialog id="loginD" widgetVar="loginDialog" header="Login"
				showEffect="fade" modal="true" draggable="false">

				<h:form styleClass="navbar-form navbar-right">
					<p:messages autoUpdate="true" />
					<h:panelGrid columns="1" title="Login">
						<p:inputText value="#{usuarioLoginBean.user}" id="username"
							required="true" />
						<p:password value="#{usuarioLoginBean.senha}" id="senha"
							required="true" />
						<p:commandButton action="#{usuarioLoginBean.logar}" value="Entrar" />
					</h:panelGrid>
				</h:form>
			</p:dialog>

		</ui:insert>
	</div>


	<div id="content">
		<ui:insert name="content">
		</ui:insert>
	</div>

	<div id="footer">
		<ui:insert name="footer">
			<div>
				<hr />
				<p style="font-style: italic; text-align: center; font-size: 10">©2014
					- Empresa Facility. Todos os direitos reservados</p>
			</div>
		</ui:insert>
	</div>

</h:body>

</html>
